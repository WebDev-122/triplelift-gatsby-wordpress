{"version":3,"sources":["webpack://triplelift-gatsby-wordpress/./src/templates/resourceArchive.js"],"names":["data","posts","pageContext","allWpResource","nodes","title","map","post","id","uri","typeProductOffer","featuredImage","extLink","resourceLink","image","getImage","node","localFile","key","style","color","href","target","rel","G","alt","Link","to"],"mappings":"4MAwFA,UAhFwB,SAAC,GAA2B,IAAzBA,EAAwB,EAAxBA,KACnBC,GAD2C,EAAlBC,YACjBF,EAAKG,cAAcC,OACjC,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKC,MAAM,kBAEX,2BACGJ,aADH,EACGA,EAAOK,KAAI,SAACC,GAAU,IAAD,EACZC,EAAoDD,EAApDC,GAAIH,EAAgDE,EAAhDF,MAAOI,EAAyCF,EAAzCE,IAAKC,EAAoCH,EAApCG,iBAAkBC,EAAkBJ,EAAlBI,cACpCC,EAAUF,aAAH,EAAGA,EAAkBG,aAE5BC,GAAQC,OAASJ,SAAD,UAACA,EAAeK,YAAhB,aAAC,EAAqBC,WAC5C,OACE,sBAAIC,IAAKV,EAAIW,MAAO,CAAEC,MAAO,QAC1BR,EACC,qBAAGS,KAAMT,EAASU,OAAO,SAASC,IAAI,uBACnC,gBAAC,EAAAC,EAAD,CAAaV,MAAOA,EAAOW,IAAKpB,KAGnC,gBAAC,EAAAqB,KAAD,CAAMC,GAAIlB,GAAK,gBAAC,EAAAe,EAAD,CAAaV,MAAOA,EAAOW,IAAKpB","file":"component---src-templates-resource-archive-js-c05035e379326a1b2eff.js","sourcesContent":["import React from \"react\"\r\nimport { Link, graphql } from \"gatsby\"\r\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\r\n// import parse from \"html-react-parser\"\r\n\r\nimport Layout from \"../components/layout\"\r\nimport Seo from \"../components/seo\"\r\n\r\nconst ResourceArchive = ({ data, pageContext }) => {\r\n  const posts = data.allWpResource.nodes\r\n  return (\r\n    <Layout>\r\n      <Seo title=\"All resources\" />\r\n\r\n      <div>\r\n        {posts?.map((post) => {\r\n          const { id, title, uri, typeProductOffer, featuredImage } = post\r\n          const extLink = typeProductOffer?.resourceLink\r\n          // const link = extLink ? extLink : uri\r\n          const image = getImage(featuredImage?.node?.localFile)\r\n          return (\r\n            <h3 key={id} style={{ color: \"red\" }}>\r\n              {extLink ? (\r\n                <a href={extLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                   <GatsbyImage image={image} alt={title} />\r\n                </a>\r\n              ) : (\r\n                <Link to={uri}><GatsbyImage image={image} alt={title} /></Link>\r\n              )}\r\n            </h3>\r\n          )\r\n        })}\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query($skip: Int!, $limit: Int!) {\r\n    allWpResource(\r\n      limit: $limit\r\n      skip: $skip\r\n      sort: { order: DESC, fields: date }\r\n    ) {\r\n      nodes {\r\n        title\r\n        content\r\n        uri\r\n        slug\r\n        featuredImage {\r\n          node {\r\n            altText\r\n            localFile {\r\n              childImageSharp {\r\n                gatsbyImageData(\r\n                  width: 1000\r\n                  quality: 100\r\n                  placeholder: NONE\r\n                  formats: [AUTO, WEBP, AVIF]\r\n                )\r\n              }\r\n            }\r\n          }\r\n        }\r\n        TypeProductOffer {\r\n          resourceLink\r\n        }\r\n        topics {\r\n          nodes {\r\n            id\r\n            slug\r\n            name\r\n            uri\r\n          }\r\n        }\r\n        regions {\r\n          nodes {\r\n            id\r\n            slug\r\n            name\r\n            uri\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default ResourceArchive\r\n"],"sourceRoot":""}